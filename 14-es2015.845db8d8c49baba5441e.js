(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{LnwJ:function(t,i,o){"use strict";o.r(i),o.d(i,"OptimizacionPageModule",function(){return O});var e=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),n=o("zon2"),r=o("tyNb"),l=o("fXoL");class c{constructor(t,i){this.line=t,this.column=i}}class u extends c{constructor(t,i,o,e,a){super(e,a),this.texto="",this.edd=t,this.tipo=i,this.resul=o}execute(){}}let h=(()=>{class t{static addHeap(t){this.heap.push(t)}static addStack(t){this.stack.push(t)}static newTemporal(){let t="t_"+this.temporales.length;return this.temporales.push(t),t}static newLabel(){return this.labels+=1,"L"+this.labels}static getHeap(){return this.heap.length}static getStack(){return this.stack.length}static agregarC(t){this.codigo.push(t+";")}static agregarLabel(t){this.codigo.push(t+":")}static agregarIfGoto(t,i,o,e){this.codigo.push("if ("+t+" "+i+" "+o+") goto "+e+";")}static agregarGoTo(t){this.codigo.push("goto "+t+";")}static generarCommentario(t){this.codigo.push("/*"+t+"*/ ")}static declaracionTemporales(){}static agregarP(t,i){this.codigo.push("pila["+t+"] = "+i+";"),this.stack.push(i)}static sacarP(t,i){this.codigo.push(t+" = pila["+i+"];")}static agregarH(t,i){this.codigo.push("heap["+t+"] = "+i+";")}static sacarH(t,i){this.codigo.push(t+" = heap["+i+"];")}static iniFun(t){this.codigo.push("int "+t+"(){")}static iFun(t){this.codigo.push(t+"(){")}static fFun(){this.codigo.push("}")}}return t.heap=new Array,t.stack=new Array,t.codigo=new Array,t.p=0,t.h=0,t.temporales=new Array,t.labels=0,t})();class d extends c{constructor(t,i,o,e){super(o,e),this.texto="",this.dato=t,this.dato2=i}execute(){h.agregarC(this.dato.valor+" = "+this.dato2.valor)}}class g extends c{constructor(t,i,o){super(i,o),this.texto="",this.ide=t}execute(){h.agregarC("call "+this.ide)}}class m extends c{constructor(t,i,o,e,a,s){super(a,s),this.texto="",this.dato=t,this.signo=i,this.dato2=o,this.etV=e}execute(){this.dato.execute(),this.dato2.execute(),h.agregarIfGoto(this.dato.valor,this.signo,this.dato2.valor,this.etV)}}class p extends c{constructor(t,i,o){super(i,o),this.texto="",this.id=t}execute(){}}class f extends c{constructor(t,i,o,e){super(o,e),this.texto="",this.ide=t,this.lista=i}execute(){let t=0;for(let i of this.lista)console.log(t),i.execute(),t++}}class v extends c{constructor(t,i,o){super(i,o),this.texto="",this.etiq=t}execute(){h.agregarLabel(this.etiq)}}var b=(()=>{class t extends Array{static getInstance(){return null!=this._instance||(this._instance=new t),this._instance}static clear(){this._instance=new t}}return t._instance=new t,t})();class x extends c{constructor(t,i,o,e,a,s){super(a,s),this.texto="",this.dato1=t,this.dato2=i,this.signo=o,this.dato3=e}execute(){if(console.log("esto es la expresion"),this.dato1.execute(),console.log("dato1"+this.dato1.valor),this.dato2.execute(),console.log("dato2"+this.dato2.valor),console.log("signo"+this.signo),this.dato3.execute(),console.log("dato3"+this.dato3.valor),this.dato1.valor==this.dato2.valor)if(0==this.dato3.valor&&"+"==this.signo||"-"==this.signo){let t,i;"+"==this.signo&&(t="REGLA6 p + 0 || temp + 0",h.generarCommentario("REGLA6")),"-"==this.signo&&(t="REGLA7 p - 0 || temp - 0",h.generarCommentario("REGLA7")),h.generarCommentario("Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor),i="Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor;let o={linea:this.line.toString(),columna:this.column.toString(),tipo:t,mensaje:i};b.getInstance().push(o)}else if(1==this.dato3.valor&&"*"==this.signo||"/"==this.signo){let t,i;"*"==this.signo&&(t="REGLA8 p * 1 || temp * 1",h.generarCommentario("REGLA8")),"/"==this.signo&&(t="REGLA9 p / 1 || temp / 1",h.generarCommentario("REGLA9")),h.generarCommentario("Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor),i="Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor;let o={linea:this.line.toString(),columna:this.column.toString(),tipo:t,mensaje:i};b.getInstance().push(o)}else h.agregarC(this.dato1.valor+" = "+this.dato2.valor+" "+this.signo+" "+this.dato3.valor);else if(0==this.dato3.valor&&"+"==this.signo||"-"==this.signo){let t;"+"==this.signo&&(t="REGLA10",h.generarCommentario("REGLA10")),"-"==this.signo&&(t="REGLA11",h.generarCommentario("REGLA11")),h.generarCommentario("Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor),h.agregarC(this.dato1.valor+"="+this.dato2.valor);let i={linea:this.line.toString(),columna:this.column.toString(),tipo:t,mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};b.getInstance().push(i)}else if(0==this.dato2.valor&&"/"==this.signo){h.generarCommentario("REGLA16"),h.generarCommentario("Codigo Optimizacionmizado"),h.agregarC(this.dato1.valor+" = 0");let t={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA 16",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = 0"};b.getInstance().push(t)}else if(1==this.dato3.valor&&"*"==this.signo||"/"==this.signo){let t;"*"==this.signo&&(t="REGLA12",h.generarCommentario("REGLA12")),"/"==this.signo&&(t="REGLA13",h.generarCommentario("REGLA13")),h.generarCommentario("Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor),h.agregarC(this.dato1.valor+"="+this.dato2.valor);let i={linea:this.line.toString(),columna:this.column.toString(),tipo:t,mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};b.getInstance().push(i)}else if(2==this.dato3.valor&&"*"==this.signo){h.generarCommentario("REGLA14"),h.generarCommentario("Codigo Optimizacionmizado"),h.agregarC(this.dato1.valor+"="+this.dato2.valor+" + "+this.dato2.valor);let t={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA14",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};b.getInstance().push(t)}else if(0==this.dato3.valor&&"*"==this.signo){h.generarCommentario("REGLA15"),h.generarCommentario("Codigo Optimizacionmizado"),h.agregarC(this.dato1.valor+" = 0");let t={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA15",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = 0"};b.getInstance().push(t)}else h.agregarC(this.dato1.valor+" = "+this.dato2.valor+" "+this.signo+" "+this.dato3.valor)}}class C extends c{constructor(t,i,o,e,a){super(e,a),this.texto="",this.dato=t,this.cad=i,this.dato2=o}execute(){h.agregarC('printf("'+this.dato+'",'+this.dato2.valor+")")}}class w extends c{constructor(t,i,o){super(i,o),this.texto="",this.etiq=t}execute(){h.agregarC("goto "+this.etiq)}}class L extends c{constructor(t,i,o,e,a){super(e,a),this.texto="",this.cad=t,this.cad2=i,this.valor=o}execute(){return{tipo:this.cad2,valor:this.valor}}}class A{constructor(){this.arregloDeBloques=new Array,this.id=""}agregarNombre(t){this.id=t}nuevoBloque(t){this.arregloDeBloques.push(t)}getBloque(){return this.arregloDeBloques}}let E=new Array;var q=o("lDzL");let z=(()=>{class t{constructor(t){this.formBuilder=t,this.buildForm()}ngOnInit(){}buildForm(){this.formulario_optimizar=this.formBuilder.group({textarea:["//ingrese el c\xf3digo a optimzar",[a.j.required]],consola:["...",[a.j.required]]})}ejecutar(t){try{t.preventDefault(),this.Optimizar(this.formulario_optimizar.value.textarea)}catch(i){alert("Aun no valido errores")}}Optimizar(t){try{const o=Optimizacion.parse(t),e=new class{constructor(t,i){i||(this.superjason=t,this.lista_instrucciones=new Array)}import_ast(){}exec_ast(){this.build_ast()}build_ast(){for(var t=0;t<this.superjason.length;t++){let i=this.fabrica_instrucciones(this.superjason[t]);null!=i&&this.lista_instrucciones.push(i)}return this.lista_instrucciones}fabrica_instrucciones(t){if("saltoIncondicional"==t.etiqueta)return new w(t.etiq,t.linea,t.columna);if("saltoEtiqueta"==t.etiqueta)return new v(t.etiq,t.linea,t.columna);if("saltoCondicional"==t.etiqueta)return new m(this.fabrica_instrucciones(t.tipoDato),t.signo,this.fabrica_instrucciones(t.tipoDato2),t.etiquetaV,t.linea,t.columna);if("saltoImprimir"!=t.etiqueta){if("saltoDeclaracion"==t.etiqueta)return new p(t.listaId,t.linea,t.columna);if("saltoAsignacion"==t.etiqueta)return new d(this.fabrica_instrucciones(t.tipoDato),this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna);if("saltoGetEdd"==t.etiqueta)return new u(this.fabrica_instrucciones(t.tipoDato),t.edd,this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna);if("saltoDecMetodo"==t.etiqueta){let o=new Array;for(var i=0;i<t.listaInstru.length;i++)o.push(this.fabrica_instrucciones(t.listaInstru[i]));return new f(t.ide,o,t.linea,t.columna)}return"saltocallMetodo"==t.etiqueta?new g(t.identificador,t.linea,t.columna):"saltoExpAritmetica"==t.etiqueta?new x(this.fabrica_instrucciones(t.tipoDato),this.fabrica_instrucciones(t.tipoDato2),t.signo,this.fabrica_instrucciones(t.tipoDato3),t.linea,t.columna):"saltoLiteral"==t.etiqueta?new L(t.cad1,t.cad2,t.valor,t.linea,t.columna):void 0}new C(this.fabrica_instrucciones(t.tipoDato),t.cad,this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna)}getLista_Instrucciones(){return this.lista_instrucciones}}(o,!1).build_ast();console.log(e);for(const t of e)try{if(t instanceof f){let i=t,o=new A;o.agregarNombre(i.ide);let e=0,a=0,s="";for(let n of i.lista)if(n instanceof x&&1==e){if("saltoIncondicional"==s){let i={linea:t.line.toString(),columna:t.column.toString(),tipo:"REGLA1",mensaje:"Se elimino instrucciones anteriores"};b.getInstance().push(i),s=""}else o.nuevoBloque(n);e=0}else if(n instanceof m){let i=n;if(i.dato instanceof L&&i.dato2 instanceof L){let e=i.dato,s=i.dato2;if(-1==e.valor.indexOf("t")&&-1==s.valor.indexOf("t"))if(e.valor==s.valor&&"=="==i.signo)a=1;else if(e.valor!=s.valor&&"!="==i.signo){let i={linea:t.line.toString(),columna:t.column.toString(),tipo:"REGLA4",mensaje:"Se elimino instruccion de if "+e.valor+"y"+s.valor+" goto"};b.getInstance().push(i)}else o.nuevoBloque(n);else o.nuevoBloque(n);console.log("holis")}else o.nuevoBloque(n);e=0}else if(n instanceof w&&0==e)if(0==a)o.nuevoBloque(n),e=1,s="saltoIncondicional";else{a=0;let i={linea:t.line.toString(),columna:t.column.toString(),tipo:"REGLA3",mensaje:"Se elimino instruccion de goto"};b.getInstance().push(i)}else n instanceof v&&0==e?(o.nuevoBloque(n),e=1):(o.nuevoBloque(n),e=0);E.push(o)}}catch(i){}for(let t of E){let i=t.getBloque();for(let t of i)null!=t&&t.execute()}}catch(i){console.log(i)}this.lista=b.getInstance()}imprimirConsola(){this.salida=this.salida+"\n//fin de la ejecuci\xf3n"}}return t.\u0275fac=function(i){return new(i||t)(l.Kb(a.a))},t.\u0275cmp=l.Eb({type:t,selectors:[["app-formulario-optimizacion"]],decls:12,vars:2,consts:[[3,"formGroup","ngSubmit"],["position","stacked"],["type","text","rows","25","formControlName","textarea"],["expand","full","fill","outline","color","success","type","submit"],[1,"bootstrap","material",2,"height","200px","overflow-y","auto",3,"rows"],["name","Linea","width","75"],["name","Columna","width","75"],["name","Tipo","width","75"],["name","Mensaje","width","450"]],template:function(t,i){1&t&&(l.Pb(0,"form",0),l.Xb("ngSubmit",function(t){return i.ejecutar(t)}),l.Pb(1,"ion-item"),l.Pb(2,"ion-label",1),l.tc(3,"Ingrese su c\xf3digo:"),l.Ob(),l.Lb(4,"ion-textarea",2),l.Pb(5,"ion-button",3),l.tc(6,"Optimizar"),l.Ob(),l.Pb(7,"ngx-datatable",4),l.Lb(8,"ngx-datatable-column",5),l.Lb(9,"ngx-datatable-column",6),l.Lb(10,"ngx-datatable-column",7),l.Lb(11,"ngx-datatable-column",8),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.ec("formGroup",i.formulario_optimizar),l.yb(7),l.ec("rows",i.lista))},directives:[a.k,a.h,a.c,s.g,s.h,s.m,s.u,a.g,a.b,s.b,q.b,q.a],styles:[""]}),t})();const _=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l.Eb({type:t,selectors:[["app-optimizacion"]],decls:7,vars:0,consts:[["slot","start"],["menu","main-menu"]],template:function(t,i){1&t&&(l.Pb(0,"ion-header"),l.Pb(1,"ion-toolbar"),l.Pb(2,"ion-buttons",0),l.Lb(3,"ion-menu-button",1),l.Ob(),l.Pb(4,"ion-title"),l.tc(5,"MatrioshTS"),l.Ob(),l.Ob(),l.Ob(),l.Lb(6,"app-formulario-optimizacion"))},directives:[s.e,s.o,s.c,s.k,s.n,z],styles:[""]}),t})()}];let G=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[r.i.forChild(_)],r.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=l.Ib({type:t}),t.\u0275inj=l.Hb({factory:function(i){return new(i||t)},imports:[[e.c,a.d,s.p,n.a,G]]}),t})()}}]);