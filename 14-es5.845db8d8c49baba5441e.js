!function(){function t(n){var o="function"==typeof Map?new Map:void 0;return(t=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,i)}function i(){return e(t,arguments,h(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),s(i,t)})(n)}function e(t,n,o){return(e=c()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&s(i,n.prototype),i}).apply(null,arguments)}function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,r=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=c();return function(){var n,o=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{LnwJ:function(e,o,i){"use strict";i.r(o),i.d(o,"OptimizacionPageModule",function(){return M});var s,l,c,h,d,v=i("ofXK"),g=i("3Pt+"),p=i("TEn/"),m=i("zon2"),y=i("tyNb"),b=i("fXoL"),w=function t(e,n){f(this,t),this.line=e,this.column=n},k=function(t){r(n,t);var e=u(n);function n(t,o,i,a,r){var s;return f(this,n),(s=e.call(this,a,r)).texto="",s.edd=t,s.tipo=o,s.resul=i,s}return a(n,[{key:"execute",value:function(){}}]),n}(w),C=function(){var t=function(){function t(){f(this,t)}return a(t,null,[{key:"addHeap",value:function(t){this.heap.push(t)}},{key:"addStack",value:function(t){this.stack.push(t)}},{key:"newTemporal",value:function(){var t="t_"+this.temporales.length;return this.temporales.push(t),t}},{key:"newLabel",value:function(){return this.labels+=1,"L"+this.labels}},{key:"getHeap",value:function(){return this.heap.length}},{key:"getStack",value:function(){return this.stack.length}},{key:"agregarC",value:function(t){this.codigo.push(t+";")}},{key:"agregarLabel",value:function(t){this.codigo.push(t+":")}},{key:"agregarIfGoto",value:function(t,e,n,o){this.codigo.push("if ("+t+" "+e+" "+n+") goto "+o+";")}},{key:"agregarGoTo",value:function(t){this.codigo.push("goto "+t+";")}},{key:"generarCommentario",value:function(t){this.codigo.push("/*"+t+"*/ ")}},{key:"declaracionTemporales",value:function(){}},{key:"agregarP",value:function(t,e){this.codigo.push("pila["+t+"] = "+e+";"),this.stack.push(e)}},{key:"sacarP",value:function(t,e){this.codigo.push(t+" = pila["+e+"];")}},{key:"agregarH",value:function(t,e){this.codigo.push("heap["+t+"] = "+e+";")}},{key:"sacarH",value:function(t,e){this.codigo.push(t+" = heap["+e+"];")}},{key:"iniFun",value:function(t){this.codigo.push("int "+t+"(){")}},{key:"iFun",value:function(t){this.codigo.push(t+"(){")}},{key:"fFun",value:function(){this.codigo.push("}")}}]),t}();return t.heap=new Array,t.stack=new Array,t.codigo=new Array,t.p=0,t.h=0,t.temporales=new Array,t.labels=0,t}(),x=function(t){r(n,t);var e=u(n);function n(t,o,i,a){var r;return f(this,n),(r=e.call(this,i,a)).texto="",r.dato=t,r.dato2=o,r}return a(n,[{key:"execute",value:function(){C.agregarC(this.dato.valor+" = "+this.dato2.valor)}}]),n}(w),A=function(t){r(n,t);var e=u(n);function n(t,o,i){var a;return f(this,n),(a=e.call(this,o,i)).texto="",a.ide=t,a}return a(n,[{key:"execute",value:function(){C.agregarC("call "+this.ide)}}]),n}(w),L=function(t){r(n,t);var e=u(n);function n(t,o,i,a,r,s){var u;return f(this,n),(u=e.call(this,r,s)).texto="",u.dato=t,u.signo=o,u.dato2=i,u.etV=a,u}return a(n,[{key:"execute",value:function(){this.dato.execute(),this.dato2.execute(),C.agregarIfGoto(this.dato.valor,this.signo,this.dato2.valor,this.etV)}}]),n}(w),O=function(t){r(n,t);var e=u(n);function n(t,o,i){var a;return f(this,n),(a=e.call(this,o,i)).texto="",a.id=t,a}return a(n,[{key:"execute",value:function(){}}]),n}(w),_=function(t){r(o,t);var e=u(o);function o(t,n,i,a){var r;return f(this,o),(r=e.call(this,i,a)).texto="",r.ide=t,r.lista=n,r}return a(o,[{key:"execute",value:function(){var t,e=0,o=n(this.lista);try{for(o.s();!(t=o.n()).done;){var i=t.value;console.log(e),i.execute(),e++}}catch(a){o.e(a)}finally{o.f()}}}]),o}(w),E=function(t){r(n,t);var e=u(n);function n(t,o,i){var a;return f(this,n),(a=e.call(this,o,i)).texto="",a.etiq=t,a}return a(n,[{key:"execute",value:function(){C.agregarLabel(this.etiq)}}]),n}(w),S=((s=function(t){r(n,t);var e=u(n);function n(){return f(this,n),e.apply(this,arguments)}return a(n,null,[{key:"getInstance",value:function(){return null!=this._instance||(this._instance=new n),this._instance}},{key:"clear",value:function(){this._instance=new n}}]),n}(t(Array)))._instance=new s,s),q=function(t){r(n,t);var e=u(n);function n(t,o,i,a,r,s){var u;return f(this,n),(u=e.call(this,r,s)).texto="",u.dato1=t,u.dato2=o,u.signo=i,u.dato3=a,u}return a(n,[{key:"execute",value:function(){if(console.log("esto es la expresion"),this.dato1.execute(),console.log("dato1"+this.dato1.valor),this.dato2.execute(),console.log("dato2"+this.dato2.valor),console.log("signo"+this.signo),this.dato3.execute(),console.log("dato3"+this.dato3.valor),this.dato1.valor==this.dato2.valor)if(0==this.dato3.valor&&"+"==this.signo||"-"==this.signo){var t,e;"+"==this.signo&&(t="REGLA6 p + 0 || temp + 0",C.generarCommentario("REGLA6")),"-"==this.signo&&(t="REGLA7 p - 0 || temp - 0",C.generarCommentario("REGLA7")),C.generarCommentario("Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor),e="Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor;var n={linea:this.line.toString(),columna:this.column.toString(),tipo:t,mensaje:e};S.getInstance().push(n)}else if(1==this.dato3.valor&&"*"==this.signo||"/"==this.signo){var o,i;"*"==this.signo&&(o="REGLA8 p * 1 || temp * 1",C.generarCommentario("REGLA8")),"/"==this.signo&&(o="REGLA9 p / 1 || temp / 1",C.generarCommentario("REGLA9")),C.generarCommentario("Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor),i="Codigo Eliminado "+this.dato1.valor+" = "+this.dato2.valor;var a={linea:this.line.toString(),columna:this.column.toString(),tipo:o,mensaje:i};S.getInstance().push(a)}else C.agregarC(this.dato1.valor+" = "+this.dato2.valor+" "+this.signo+" "+this.dato3.valor);else if(0==this.dato3.valor&&"+"==this.signo||"-"==this.signo){var r;"+"==this.signo&&(r="REGLA10",C.generarCommentario("REGLA10")),"-"==this.signo&&(r="REGLA11",C.generarCommentario("REGLA11")),C.generarCommentario("Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor),C.agregarC(this.dato1.valor+"="+this.dato2.valor);var s={linea:this.line.toString(),columna:this.column.toString(),tipo:r,mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};S.getInstance().push(s)}else if(0==this.dato2.valor&&"/"==this.signo){C.generarCommentario("REGLA16"),C.generarCommentario("Codigo Optimizacionmizado"),C.agregarC(this.dato1.valor+" = 0");var u={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA 16",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = 0"};S.getInstance().push(u)}else if(1==this.dato3.valor&&"*"==this.signo||"/"==this.signo){var l;"*"==this.signo&&(l="REGLA12",C.generarCommentario("REGLA12")),"/"==this.signo&&(l="REGLA13",C.generarCommentario("REGLA13")),C.generarCommentario("Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor),C.agregarC(this.dato1.valor+"="+this.dato2.valor);var c={linea:this.line.toString(),columna:this.column.toString(),tipo:l,mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};S.getInstance().push(c)}else if(2==this.dato3.valor&&"*"==this.signo){C.generarCommentario("REGLA14"),C.generarCommentario("Codigo Optimizacionmizado"),C.agregarC(this.dato1.valor+"="+this.dato2.valor+" + "+this.dato2.valor);var h={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA14",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = "+this.dato2.valor};S.getInstance().push(h)}else if(0==this.dato3.valor&&"*"==this.signo){C.generarCommentario("REGLA15"),C.generarCommentario("Codigo Optimizacionmizado"),C.agregarC(this.dato1.valor+" = 0");var f={linea:this.line.toString(),columna:this.column.toString(),tipo:"REGLA15",mensaje:"Codigo Optimizacionmizado "+this.dato1.valor+" = 0"};S.getInstance().push(f)}else C.agregarC(this.dato1.valor+" = "+this.dato2.valor+" "+this.signo+" "+this.dato3.valor)}}]),n}(w),z=function(t){r(n,t);var e=u(n);function n(t,o,i,a,r){var s;return f(this,n),(s=e.call(this,a,r)).texto="",s.dato=t,s.cad=o,s.dato2=i,s}return a(n,[{key:"execute",value:function(){C.agregarC('printf("'+this.dato+'",'+this.dato2.valor+")")}}]),n}(w),j=function(t){r(n,t);var e=u(n);function n(t,o,i){var a;return f(this,n),(a=e.call(this,o,i)).texto="",a.etiq=t,a}return a(n,[{key:"execute",value:function(){C.agregarC("goto "+this.etiq)}}]),n}(w),R=function(t){r(n,t);var e=u(n);function n(t,o,i,a,r){var s;return f(this,n),(s=e.call(this,a,r)).texto="",s.cad=t,s.cad2=o,s.valor=i,s}return a(n,[{key:"execute",value:function(){return{tipo:this.cad2,valor:this.valor}}}]),n}(w),G=function(){function t(){f(this,t),this.arregloDeBloques=new Array,this.id=""}return a(t,[{key:"agregarNombre",value:function(t){this.id=t}},{key:"nuevoBloque",value:function(t){this.arregloDeBloques.push(t)}},{key:"getBloque",value:function(){return this.arregloDeBloques}}]),t}(),I=new Array,D=i("lDzL"),P=((l=function(){function t(e){f(this,t),this.formBuilder=e,this.buildForm()}return a(t,[{key:"ngOnInit",value:function(){}},{key:"buildForm",value:function(){this.formulario_optimizar=this.formBuilder.group({textarea:["//ingrese el c\xf3digo a optimzar",[g.j.required]],consola:["...",[g.j.required]]})}},{key:"ejecutar",value:function(t){try{t.preventDefault(),this.Optimizar(this.formulario_optimizar.value.textarea)}catch(e){alert("Aun no valido errores")}}},{key:"Optimizar",value:function(t){try{var e=Optimizacion.parse(t),o=new(function(){function t(e,n){f(this,t),n||(this.superjason=e,this.lista_instrucciones=new Array)}return a(t,[{key:"import_ast",value:function(){}},{key:"exec_ast",value:function(){this.build_ast()}},{key:"build_ast",value:function(){for(var t=0;t<this.superjason.length;t++){var e=this.fabrica_instrucciones(this.superjason[t]);null!=e&&this.lista_instrucciones.push(e)}return this.lista_instrucciones}},{key:"fabrica_instrucciones",value:function(t){if("saltoIncondicional"==t.etiqueta)return new j(t.etiq,t.linea,t.columna);if("saltoEtiqueta"==t.etiqueta)return new E(t.etiq,t.linea,t.columna);if("saltoCondicional"==t.etiqueta)return new L(this.fabrica_instrucciones(t.tipoDato),t.signo,this.fabrica_instrucciones(t.tipoDato2),t.etiquetaV,t.linea,t.columna);if("saltoImprimir"!=t.etiqueta){if("saltoDeclaracion"==t.etiqueta)return new O(t.listaId,t.linea,t.columna);if("saltoAsignacion"==t.etiqueta)return new x(this.fabrica_instrucciones(t.tipoDato),this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna);if("saltoGetEdd"==t.etiqueta)return new k(this.fabrica_instrucciones(t.tipoDato),t.edd,this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna);if("saltoDecMetodo"==t.etiqueta){for(var e=new Array,n=0;n<t.listaInstru.length;n++)e.push(this.fabrica_instrucciones(t.listaInstru[n]));return new _(t.ide,e,t.linea,t.columna)}return"saltocallMetodo"==t.etiqueta?new A(t.identificador,t.linea,t.columna):"saltoExpAritmetica"==t.etiqueta?new q(this.fabrica_instrucciones(t.tipoDato),this.fabrica_instrucciones(t.tipoDato2),t.signo,this.fabrica_instrucciones(t.tipoDato3),t.linea,t.columna):"saltoLiteral"==t.etiqueta?new R(t.cad1,t.cad2,t.valor,t.linea,t.columna):void 0}new z(this.fabrica_instrucciones(t.tipoDato),t.cad,this.fabrica_instrucciones(t.tipoDato2),t.linea,t.columna)}},{key:"getLista_Instrucciones",value:function(){return this.lista_instrucciones}}]),t}())(e,!1).build_ast();console.log(o);var i,r=n(o);try{for(r.s();!(i=r.n()).done;){var s=i.value;try{if(s instanceof _){var u=s,l=new G;l.agregarNombre(u.ide);var c,h=0,d=0,v="",g=n(u.lista);try{for(g.s();!(c=g.n()).done;){var p=c.value;if(p instanceof q&&1==h){if("saltoIncondicional"==v){var m={linea:s.line.toString(),columna:s.column.toString(),tipo:"REGLA1",mensaje:"Se elimino instrucciones anteriores"};S.getInstance().push(m),v=""}else l.nuevoBloque(p);h=0}else if(p instanceof L){var y=p;if(y.dato instanceof R&&y.dato2 instanceof R){var b=y.dato,w=y.dato2;if(-1==b.valor.indexOf("t")&&-1==w.valor.indexOf("t"))if(b.valor==w.valor&&"=="==y.signo)d=1;else if(b.valor!=w.valor&&"!="==y.signo){var C={linea:s.line.toString(),columna:s.column.toString(),tipo:"REGLA4",mensaje:"Se elimino instruccion de if "+b.valor+"y"+w.valor+" goto"};S.getInstance().push(C)}else l.nuevoBloque(p);else l.nuevoBloque(p);console.log("holis")}else l.nuevoBloque(p);h=0}else if(p instanceof j&&0==h)if(0==d)l.nuevoBloque(p),h=1,v="saltoIncondicional";else{d=0;var D={linea:s.line.toString(),columna:s.column.toString(),tipo:"REGLA3",mensaje:"Se elimino instruccion de goto"};S.getInstance().push(D)}else p instanceof E&&0==h?(l.nuevoBloque(p),h=1):(l.nuevoBloque(p),h=0)}}catch(H){g.e(H)}finally{g.f()}I.push(l)}}catch(N){}}}catch(H){r.e(H)}finally{r.f()}var P,B=n(I);try{for(B.s();!(P=B.n()).done;){var T,M=n(P.value.getBloque());try{for(M.s();!(T=M.n()).done;){var F=T.value;null!=F&&F.execute()}}catch(H){M.e(H)}finally{M.f()}}}catch(H){B.e(H)}finally{B.f()}}catch(N){console.log(N)}this.lista=S.getInstance()}},{key:"imprimirConsola",value:function(){this.salida=this.salida+"\n//fin de la ejecuci\xf3n"}}]),t}()).\u0275fac=function(t){return new(t||l)(b.Kb(g.a))},l.\u0275cmp=b.Eb({type:l,selectors:[["app-formulario-optimizacion"]],decls:12,vars:2,consts:[[3,"formGroup","ngSubmit"],["position","stacked"],["type","text","rows","25","formControlName","textarea"],["expand","full","fill","outline","color","success","type","submit"],[1,"bootstrap","material",2,"height","200px","overflow-y","auto",3,"rows"],["name","Linea","width","75"],["name","Columna","width","75"],["name","Tipo","width","75"],["name","Mensaje","width","450"]],template:function(t,e){1&t&&(b.Pb(0,"form",0),b.Xb("ngSubmit",function(t){return e.ejecutar(t)}),b.Pb(1,"ion-item"),b.Pb(2,"ion-label",1),b.tc(3,"Ingrese su c\xf3digo:"),b.Ob(),b.Lb(4,"ion-textarea",2),b.Pb(5,"ion-button",3),b.tc(6,"Optimizar"),b.Ob(),b.Pb(7,"ngx-datatable",4),b.Lb(8,"ngx-datatable-column",5),b.Lb(9,"ngx-datatable-column",6),b.Lb(10,"ngx-datatable-column",7),b.Lb(11,"ngx-datatable-column",8),b.Ob(),b.Ob(),b.Ob()),2&t&&(b.ec("formGroup",e.formulario_optimizar),b.yb(7),b.ec("rows",e.lista))},directives:[g.k,g.h,g.c,p.g,p.h,p.m,p.u,g.g,g.b,p.b,D.b,D.a],styles:[""]}),l),B=[{path:"",component:(c=function(){function t(){f(this,t)}return a(t,[{key:"ngOnInit",value:function(){}}]),t}(),c.\u0275fac=function(t){return new(t||c)},c.\u0275cmp=b.Eb({type:c,selectors:[["app-optimizacion"]],decls:7,vars:0,consts:[["slot","start"],["menu","main-menu"]],template:function(t,e){1&t&&(b.Pb(0,"ion-header"),b.Pb(1,"ion-toolbar"),b.Pb(2,"ion-buttons",0),b.Lb(3,"ion-menu-button",1),b.Ob(),b.Pb(4,"ion-title"),b.tc(5,"MatrioshTS"),b.Ob(),b.Ob(),b.Ob(),b.Lb(6,"app-formulario-optimizacion"))},directives:[p.e,p.o,p.c,p.k,p.n,P],styles:[""]}),c)}],T=((d=function t(){f(this,t)}).\u0275mod=b.Ib({type:d}),d.\u0275inj=b.Hb({factory:function(t){return new(t||d)},imports:[[y.i.forChild(B)],y.i]}),d),M=((h=function t(){f(this,t)}).\u0275mod=b.Ib({type:h}),h.\u0275inj=b.Hb({factory:function(t){return new(t||h)},imports:[[v.c,g.d,p.p,m.a,T]]}),h)}}])}();